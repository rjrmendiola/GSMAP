<nav
  [ngClass]="menuService.showSideBar ? 'w-full' : 'w-[70px]'"
  class="scrollbar-thumb-rounded scrollbar-track-rounded h-full flex flex-col justify-between overflow-auto bg-background pt-3 transition-all duration-300 scrollbar-thin scrollbar-track-transparent scrollbar-thumb-card sm:flex lg:flex">
  <div class="flex-1 px-4" id="hazard-section">
    <!-- Logo -->
    <div class="relative h-10">
      <!-- <div class="flex items-center justify-center h-full" *ngIf="menuService.showSideBar"> -->
      <div class="flex items-center justify-center h-full space-x-2" *ngIf="menuService.showSideBar">
        <div class="icon-wrapper">
          <svg-icon src="assets/icons/compass-symbol-svgrepo-com.svg"></svg-icon>
        </div>
        <b class="text-lg font-bold text-center text-foreground">
          {{ appJson.displayName }}
        </b>
      </div>
       <!-- <button
        (click)="toggleSidebar()"
        class="absolute top-2 right-2 h-5 w-5 items-center justify-center rounded text-muted-foreground/50 transition-all duration-200 focus:outline-none hover:text-muted-foreground hidden sm:block"
        [ngClass]="{ 'rotate-180': !menuService.showSideBar }">
        <svg-icon src="assets/icons/heroicons/solid/chevron-double-left.svg"> </svg-icon>
      </button> -->
    </div>

    <!-- Separator -->
    <div class="pt-3">
      <hr class="border-dashed border-muted" />
    </div>

    <!-- Menu Items -->
    <!-- <app-sidebar-menu
      [barangays]="barangays"
      (dssFilterClicked)="onDssFilterClicked()"
      (menuClicked)="onSidebarMenuClick($event)"
      (barangaySelected)="onBarangaySelected($event)"
      (mapTypeSelected)="onMapTypeSelected($event)"
      id="layers-section">
    </app-sidebar-menu> -->
    <app-simulation-input
      *ngIf="isSimulationMode"
      [evacuationCenters]="evacuationCenters"
      (simulationStarted)="onSimulationStarted($event)"
      (backClicked)="onSimulationBack()">
    </app-simulation-input>
    <app-sidebar-menu
      *ngIf="!isSimulationMode"
      [barangays]="barangays"
      [barangayOfficials]="barangayOfficials"
      [evacuationCenters]="evacuationCenters"
      (menuClicked)="onSidebarMenuClick($event)"
      (dssFilterClicked)="onDssFilterClicked()"
      (dssAlertClicked)="onDssAlertClicked()"
      (dssDecisionClicked)="onDssDecisionClicked()"
      (dssEvacuationClicked)="onDssEvacuationClicked()"
      (simulationClicked)="onSimulationClicked()"
      (barangayOfficialSelected)="onBarangayOfficialSelected($event)"
      (evacuationCenterSelected)="onEvacuationCenterSelected($event)"
      (barangaysSelected)="onBarangaysSelected($event)"
      id="layers-section">
    </app-sidebar-menu>
  </div>

  <div class="p-4 text-foreground space-y-2">
    <!-- Show only if logged in -->
    <ng-container *ngIf="isLoggedIn">
      <!-- Manage Button -->
      <button
        routerLink="/admin/barangays"
        class="w-full px-3 py-2 bg-blue-500 hover:bg-blue-600 rounded mb-2 text-xs"
      >
        Manage
      </button>

      <!-- Logout Button -->
      <button
        class="w-full px-3 py-2 bg-red-500 hover:bg-red-600 rounded text-xs"
        (click)="logout()"
      >
        Logout
      </button>
    </ng-container>

    <ng-container *ngIf="!isLoggedIn">
      <!-- Login Button -->
      <button
        routerLink="/admin/login"
        class="w-full px-3 py-2 bg-blue-500 hover:bg-blue-600 rounded mb-2 text-xs"
      >
        Login
      </button>
    </ng-container>
  </div>

  <div class="mx-4 my-4 space-y-1 hidden sm:block">
    <!-- Version -->
    <div
      class="group flex h-9 items-center justify-start rounded p-2 hover:bg-card">
      <svg-icon
        src="assets/icons/heroicons/outline/information-circle.svg"
        [svgClass]="'h-5 w-5 text-muted-foreground/50'">
      </svg-icon>

      <div class="ml-3 truncate text-[10px] font-semibold tracking-wide focus:outline-none">
        <span class="rounded-lg bg-primary/10 px-2 font-semibold text-primary">
          v{{ appJson.version }}
        </span>
      </div>

      <div class="fixed w-full" *ngIf="!menuService.showSideBar" id="welcome">
        <span
          class="z-1 absolute left-12 -top-4 w-auto min-w-max origin-left scale-0 rounded-md bg-foreground p-2 text-xs font-bold text-background shadow-md transition-all duration-200 group-hover:scale-100">
          v{{ appJson.version }}
        </span>
      </div>
    </div>
  </div>
</nav>
